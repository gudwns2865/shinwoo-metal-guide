<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>방화유리문 발주 및 시공 준수사항 - (주)신우금속</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700;900&display=swap');

        :root {
            --primary-color: #00305b;
            --accent-color: #d32f2f;
            --bg-color: #f4f6f8;
            --section-bg: #ffffff;
            --border-color: #e0e0e0;
            --warning-bg: #fff5f5;
            --warning-border: #ffcdd2;
        }

        * { box-sizing: border-box; }

        .icon {
            display: inline-block;
            width: 1em;
            height: 1em;
            vertical-align: -0.125em;
        }

        body {
            font-family: 'Noto Sans KR', sans-serif;
            background-color: var(--bg-color);
            margin: 0;
            padding: 20px;
            color: #333;
            line-height: 1.7;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .container {
            width: 100%;
            max-width: 850px;
            background-color: white;
            padding: 40px 50px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
            border-radius: 12px;
            position: relative;
            margin-bottom: 30px;
            overflow: hidden;
        }

        /* Header */
        header {
            text-align: center;
            border-bottom: 4px solid var(--primary-color);
            padding-bottom: 25px;
            margin-bottom: 35px;
            position: relative;
        }

        .logo-container {
            position: absolute;
            top: -10px;
            left: -30px;
            margin: 0;
        }

        .logo-container img {
            max-width: 180px;
            height: auto;
        }

        h1 {
            color: var(--primary-color);
            font-size: 2rem;
            font-weight: 900;
            margin: 40px 0 15px 0;
            letter-spacing: -0.5px;
            word-break: keep-all;
            line-height: 1.3;
        }

        .subtitle {
            font-size: 1rem;
            color: #444;
            font-weight: 400;
            line-height: 1.6;
            background: linear-gradient(135deg, #f0f4f8 0%, #e8f0f8 100%);
            padding: 15px 20px;
            border-radius: 8px;
            border-left: 4px solid var(--accent-color);
            word-break: keep-all;
            text-align: left;
        }

        .subtitle strong { color: var(--accent-color); font-weight: 700; }

        /* Sections */
        .section { margin-bottom: 35px; width: 100%; }

        .section-title {
            display: flex;
            align-items: center;
            font-size: 1.3rem;
            font-weight: 700;
            color: var(--primary-color);
            margin-bottom: 20px;
            padding: 12px 0 12px 12px;
            border-bottom: 2px solid var(--primary-color);
            background: linear-gradient(to right, rgba(0,48,91,0.05) 0%, transparent 100%);
        }

        .section-title .icon { margin-right: 12px; font-size: 1.2rem; }

        /* Content Boxes */
        .info-box {
            background-color: #fff;
            border: 1px solid var(--border-color);
            border-radius: 10px;
            padding: 22px 25px;
            margin-bottom: 18px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.04);
        }

        .info-box h3 {
            margin: 0 0 15px 0;
            color: #222;
            font-size: 1.05rem;
            font-weight: 700;
            display: flex;
            align-items: center;
            padding-bottom: 10px;
            border-bottom: 1px solid #f0f0f0;
        }
        
        .info-box h3::before {
            content: '■';
            color: var(--primary-color);
            margin-right: 8px;
            font-size: 0.9em;
        }

        /* 여백 수정된 부분 */
        .content-row {
            display: flex;
            margin-bottom: 10px;
            align-items: flex-start;
        }

        .label {
            font-weight: 700;
            min-width: 160px; /* 충분한 공간 확보 */
            color: #555;
            flex-shrink: 0;
        }

        .value { flex: 1; color: #333; }
        .highlight { color: var(--accent-color); font-weight: 700; background-color: rgba(211,47,47,0.08); padding: 2px 6px; border-radius: 4px; }

        .note {
            font-size: 0.88rem;
            color: #666;
            margin-top: 12px;
            padding: 10px 12px;
            border-left: 3px solid #ddd;
            background-color: #fafafa;
            border-radius: 4px;
        }

        .caution-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 18px; }
        .caution-item {
            background: linear-gradient(135deg, var(--warning-bg) 0%, #fff 100%);
            border: 2px solid var(--warning-border);
            padding: 20px;
            border-radius: 10px;
        }
        .caution-item h4 { color: var(--accent-color); margin: 0 0 12px 0; display: flex; align-items: center; gap: 8px; }

        .checklist { list-style: none; padding: 0; margin: 15px 0 0 0; }
        .checklist li { position: relative; padding-left: 35px; margin-bottom: 15px; font-weight: 500; }
        .checklist li::before { content: '✓'; position: absolute; left: 0; color: var(--primary-color); font-size: 1.3rem; font-weight: 900; top: 0; }
        .sub-text { display: block; font-size: 0.88rem; color: #666; margin-top: 5px; font-weight: 400; }

        .main-footer {
            width: 100%; max-width: 850px; margin-top: 20px; padding: 30px;
            background-color: #2c3e50; color: #ecf0f1; border-radius: 12px; text-align: center; font-size: 0.9rem;
        }
        .main-footer .company-name { font-size: 1.2rem; font-weight: 700; color: #ffd54f; margin-bottom: 15px; display: block; }
        .main-footer a { color: #3498db; text-decoration: none; }

        .warning-footer {
            margin-top: 20px; padding: 15px; background-color: #fdf2f2; border: 1px solid #fbd5d5;
            border-radius: 8px; color: #c81e1e; font-weight: 500; text-align: center; width: 100%; max-width: 850px;
        }

        /* Chatbot */
        .chatbot-toggle {
            position: fixed; bottom: 30px; right: 30px; width: 65px; height: 65px;
            border-radius: 50%; background: var(--primary-color); color: white; border: none;
            cursor: pointer; box-shadow: 0 6px 20px rgba(0,48,91,0.3); z-index: 999;
        }
        .chatbot-badge { position: absolute; top: -5px; right: -5px; background: #4caf50; color: white; font-size: 10px; padding: 3px 6px; border-radius: 10px; border: 2px solid white; }
        
        .chatbot-window {
            position: fixed; bottom: 30px; right: 30px; width: 450px; height: 700px;
            background: white; border-radius: 20px; box-shadow: 0 10px 40px rgba(0,0,0,0.2);
            display: none; flex-direction: column; z-index: 1000; overflow: hidden;
        }
        .chatbot-window.active { display: flex; }
        .chatbot-header { padding: 20px; background: var(--primary-color); color: white; display: flex; justify-content: space-between; align-items: center; }
        .chatbot-messages { flex: 1; padding: 20px; overflow-y: auto; background-color: #f9f9f9; display: flex; flex-direction: column; }
        .message { margin-bottom: 15px; max-width: 85%; }
        .bot-message { align-self: flex-start; background: white; padding: 12px; border-radius: 15px 15px 15px 0; border: 1px solid #eee; }
        .user-message { align-self: flex-end; background: var(--primary-color); color: white; padding: 12px; border-radius: 15px 15px 0 15px; }

        .chatbot-input-area { padding: 15px; border-top: 1px solid #e0e0e0; display: flex; gap: 10px; }
        #chatbot-input { flex: 1; border: 1px solid #ddd; border-radius: 25px; padding: 10px 18px; outline: none; }
        #chatbot-send { background: var(--primary-color); color: white; border: none; width: 45px; height: 45px; border-radius: 50%; cursor: pointer; }

        @media (max-width: 768px) {
            .container { padding: 25px 20px; }
            .logo-container { position: static; text-align: left; margin-bottom: 10px; }
            .caution-grid { grid-template-columns: 1fr; }
            .label { min-width: 100%; margin-bottom: 5px; }
            .content-row { flex-direction: column; }
            .chatbot-window { width: calc(100% - 20px); height: 80vh; bottom: 10px; right: 10px; }
        }
    </style>
</head>
<body>

    <div class="container">
        <header>
            <div class="logo-container">
                <img src="/logo.png" alt="(주)신우금속 로고">
            </div>
            <h1>방화유리문(인정제품)<br>발주 및 시공 준수사항 안내문</h1>
            <div class="subtitle">
                방화문 품질인정제도 시행에 따라, <strong>인정받은 내용과 동일하게 시공되지 않을 경우 인정서 발급이 불가</strong>할 수 있습니다. 
                공급 및 시공에 차질이 없도록 아래 내용을 반드시 확인 바랍니다.
            </div>
        </header>

        <div class="section">
            <div class="section-title">
                <svg class="icon" viewBox="0 0 512 512" fill="currentColor"><path d="M144 416V352H368V416C368 433.7 382.3 448 400 448H432C476.2 448 512 412.2 512 368V256.9L446.4 171.5C444.6 169 441.7 167.2 438.6 166.9L288 150.1V64C288 28.65 259.3 0 224 0C188.7 0 160 28.65 160 64V150.1L9.373 166.9C6.264 167.2 3.371 169 1.585 171.5L0 173.3V368C0 412.2 35.82 448 80 448H112C129.7 448 144 433.7 144 416zM80 368V314.7L256 288.5L432 314.7V368C432 376.8 424.8 384 416 384C407.2 384 400 376.8 400 368V320H112V368C112 376.8 104.8 384 96 384C87.16 384 80 376.8 80 368z"/></svg>
                1. 주요 시공 준수 표준
            </div>
            
            <div class="info-box">
                <h3>방화문 손잡이(도어핸들) 설치 높이</h3>
                <div class="content-row">
                    <span class="label">일반 현장</span>
                    <span class="value">바닥면으로부터 <span class="highlight">800mm ~ 1,050mm</span> (권장 900~950mm)</span>
                </div>
                <div class="content-row">
                    <span class="label">장애인 편의시설 대상시설</span>
                    <span class="value">바닥면으로부터 <span class="highlight">800mm ~ 900mm</span> (BF인증 등)</span>
                </div>
                <div class="note">※ 일자손잡이의 경우 손잡이 봉이 800~900mm 사이에 위치하면 적합</div>
            </div>

            <div class="info-box">
                <h3>방화문 개폐 유효폭 확보</h3>
                <div class="content-row">
                    <span class="label">일반 현장</span>
                    <span class="value">유효폭 900mm 이상 권장</span>
                </div>
                <div class="content-row">
                    <span class="label">장애인 편의시설 대상시설</span>
                    <span class="value"><span class="highlight">반드시 유효폭 900mm 이상 확보</span> (문틀 사이즈 아님)</span>
                </div>
                <div class="note">※ 수동문 측정 기준: 문을 90도 개방 시, 손잡이 등 돌출물을 제외한 순수 통과 폭(OPEN SIZE)</div>
            </div>

            <div class="info-box">
                <h3>프레임 사면(4면) 구속 시공 조건</h3>
                <div class="content-row">
                    <span class="label">고정 조건</span>
                    <span class="value">프레임 4면(상·하·좌·우)을 인정받은 내화구조체에 견고하게 고정</span>
                </div>
                <div class="note">
                    ※ <strong>건축물의 피난·방화구조 등의 기준에 관한 규칙 제3조(내화구조)</strong> 내용 참고<br>
                    ※ 인정받은 제품 외 <strong>별도 비차열창, 유리창 인접 부착 불가</strong>
                </div>
            </div>
        </div>

        <div class="section">
            <div class="section-title">
                <svg class="icon" viewBox="0 0 512 512" fill="currentColor"><path d="M256 32c14.2 0 27.3 7.5 34.5 19.8l216 368c7.3 12.4 7.3 27.7 .2 40.1S486.3 480 472 480H40c-14.3 0-27.6-7.7-34.7-20.1s-7-27.8 .2-40.1l216-368C228.7 39.5 241.8 32 256 32zm0 128c-13.3 0-24 10.7-24 24V296c0 13.3 10.7 24 24 24s24-10.7 24-24V184c0-13.3-10.7-24-24-24zm32 224a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z"/></svg>
                2. 현장 시공 시 주의사항
            </div>
            <div class="caution-grid">
                <div class="caution-item">
                    <h4>하드웨어 임의 변경 금지</h4>
                    <p>신우에서 공급하는 인정 시 포함된 부속품을 반드시 사용해야 합니다.</p>
                </div>
                <div class="caution-item">
                    <h4>현장 가공 금지</h4>
                    <p>인정받은 제품 외 별도의 <strong>타공, 절단, 시트지 부착 불가</strong>합니다.</p>
                </div>
            </div>
        </div>

        <div class="section">
            <div class="section-title">
                <svg class="icon" viewBox="0 0 384 512" fill="currentColor"><path d="M64 0C28.7 0 0 28.7 0 64V448c0 35.3 28.7 64 64 64H320c35.3 0 64-28.7 64-64V160H256c-17.7 0-32-14.3-32-32V0H64zM256 0V128H384L256 0zM80 64h64c8.8 0 16 7.2 16 16s-7.2 16-16 16H80c-8.8 0-16-7.2-16-16s7.2-16 16-16zm0 64h64c8.8 0 16 7.2 16 16s-7.2 16-16 16H80c-8.8 0-16-7.2-16-16s7.2-16 16-16zm16 96H288c17.7 0 32 14.3 32 32v64c0 17.7-14.3 32-32 32H96c-17.7 0-32-14.3-32-32V256c0-17.7 14.3-32 32-32zm0 32v64H288V256H96zM240 416h64c8.8 0 16 7.2 16 16s-7.2 16-16 16H240c-8.8 0-16-7.2-16-16s7.2-16 16-16z"/></svg>
                3. 인정서 요청 필수 제출 자료
            </div>
            <div class="info-box document-box">
                <p style="background-color: #fff8e1; border-left: 4px solid #ffc107; padding: 15px; font-weight: 600; color: #856404; margin-bottom: 20px;">
                    아래 자료가 모두 확인되어야 인정서 발급이 가능합니다.<br>
                    <span style="color: #d32f2f;">(계산서 발행한 사업자 이름으로 발행됨)</span>
                </p>
                <ul class="checklist">
                    <li>품질확인 점검표 <span class="sub-text">당사 제공 양식에 시공자 서명 필수</span></li>
                    <li>시공 사진 <span class="sub-text">내·외부 전경 및 주요 고정 부위 사진</span></li>
                    <li>전액 입금 확인 <span class="sub-text">발주 물량에 대한 입금 완료 후 서류 발송</span></li>
                </ul>
            </div>
        </div>

        <div class="warning-footer">
            ※ 주의: 위 사항을 준수하지 않아 발생하는 재시공 및 준공 지연에 대해서는<br>
            당사에서 책임지지 않으므로 각별한 주의 바랍니다.
        </div>
    </div>

    <footer class="main-footer">
        <span class="company-name">(주)신우금속</span>
        주소: 경기도 남양주시 진접읍 팔야산단로32번길 15<br>
        Tel: 031-575-6253 | Fax : 031-575-6251<br>
        홈페이지: <a href="http://swst.kr/" target="_blank">http://swst.kr/</a>
    </footer>

    <button id="chatbot-toggle" class="chatbot-toggle">AI <span class="chatbot-badge">ON</span></button>
    <div id="chatbot-window" class="chatbot-window">
        <div class="chatbot-header">
            <span>방화문 시공 AI 도우미</span>
            <button id="chatbot-close" style="background:none; border:none; color:white; cursor:pointer; font-size:20px;">✕</button>
        </div>
        <div id="chatbot-messages" class="chatbot-messages">
            <div class="message bot-message">안녕하세요! (주)신우금속 AI 도우미입니다. 무엇을 도와드릴까요?</div>
        </div>
        <div class="chatbot-input-area">
            <input type="text" id="chatbot-input" placeholder="질문을 입력하세요...">
            <button id="chatbot-send">전송</button>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const toggleBtn = document.getElementById('chatbot-toggle');
            const closeBtn = document.getElementById('chatbot-close');
            const chatBox = document.getElementById('chatbot-window'); // 변수명 window -> chatBox로 변경 (충돌 방지)
            const input = document.getElementById('chatbot-input');
            const sendBtn = document.getElementById('chatbot-send');
            const messagesContainer = document.getElementById('chatbot-messages');

            toggleBtn.onclick = () => chatBox.classList.toggle('active');
            closeBtn.onclick = () => chatBox.classList.remove('active');

            async function sendMessage() {
                const text = input.value.trim();
                if(!text) return;

                const uMsg = document.createElement('div');
                uMsg.className = 'message user-message';
                uMsg.innerHTML = `<div class="bot-message" style="background:var(--primary-color); color:white; border:none;">${text}</div>`;
                messagesContainer.appendChild(uMsg);
                input.value = '';
                messagesContainer.scrollTop = messagesContainer.scrollHeight;

                try {
                    const res = await fetch('/api/chat', {
                        method: 'POST',
                        headers: {'Content-Type': 'application/json'},
                        body: JSON.stringify({message: text})
                    });
                    const data = await res.json();
                    const bMsg = document.createElement('div');
                    bMsg.className = 'message bot-message';
                    bMsg.innerHTML = data.response.replace(/\n/g, '<br>').replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>');
                    messagesContainer.appendChild(bMsg);
                } catch {
                    const eMsg = document.createElement('div');
                    eMsg.className = 'message bot-message';
                    eMsg.innerText = "오류가 발생했습니다.";
                    messagesContainer.appendChild(eMsg);
                }
                messagesContainer.scrollTop = messagesContainer.scrollHeight;
            }

            sendBtn.onclick = sendMessage;
            input.onkeypress = (e) => { if(e.key === 'Enter') sendMessage(); };
        });
    </script>
</body>
</html>
